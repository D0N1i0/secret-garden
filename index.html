<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>My Love's Secret Garden üå∑üíñ</title>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Dancing+Script:wght@400;700&display=swap');

    body, html { margin:0; padding:0; overflow:hidden; height:100%; background:#000; font-family:'Playfair Display', serif; }

    /* ---------------- Entrance ---------------- */
    #entrance{
      position:absolute; inset:0;
      background: linear-gradient(135deg, #ff9ed2 0%, #ffc1e3 50%, #ff9ed2 100%);
      display:flex; align-items:center; justify-content:center; flex-direction:column;
      z-index:100;
      transition: opacity 1.2s ease;
    }
    .hearts-bg{ position:absolute; inset:0; pointer-events:none; overflow:hidden; }
    .heart{ position:absolute; color: rgba(255,105,180,0.6); font-size: 28px; animation: fall linear forwards; text-shadow: 0 0 12px #fff; }
    @keyframes fall { to { transform: translateY(120vh) rotate(360deg); opacity: 0; } }

    #entrance h1{
      font-family:'Dancing Script', cursive;
      font-size: clamp(3rem, 10vw, 5.8rem);
      margin:0 0 10px;
      color:#fff;
      text-shadow:0 8px 30px rgba(0,0,0,0.4);
    }
    #entrance p{
      font-size: clamp(1.1rem, 4.5vw, 1.85rem);
      color:#fff;
      margin:0 0 35px;
      opacity:0.95;
      text-shadow:0 4px 15px rgba(0,0,0,0.3);
      padding: 0 14px;
      text-align:center;
      line-height:1.25;
    }

    .door-container{
      width: min(380px, 78vw);
      height: min(520px, 110vw);
      max-height: 520px;
      perspective: 1400px;
      margin-bottom: 24px;
      cursor: pointer;
    }
    .door{
      width:100%; height:100%;
      position:relative;
      transform-style:preserve-3d;
      transition: transform 1.1s cubic-bezier(0.6,0,0.3,1);
      box-shadow: 0 30px 80px rgba(0,0,0,0.5);
    }
    .door.open{ transform: rotateY(-112deg); }
    .door-panel{
      position:absolute; inset:0;
      background: linear-gradient(#5c2f1a, #8b4a2b);
      border: 18px solid #3d1f12;
      box-sizing:border-box;
      overflow:hidden;
      border-radius: 18px;
    }
    .door-panel::before{
      content:'';
      position:absolute; top:50%; left:50%;
      transform: translate(-50%,-50%);
      width:42px; height:42px;
      background: radial-gradient(#ffe070, #d4a017);
      border-radius:50%;
      box-shadow: 0 0 25px #fff;
    }
    .door-panel::after{
      content:'üå∏';
      position:absolute; top:35%; left:50%;
      transform: translateX(-50%);
      font-size:92px;
      opacity:0.25;
    }
    .knob{
      position:absolute; top:52%; right:68px;
      width:28px; height:28px;
      background:#d4a017;
      border-radius:50%;
      box-shadow: inset 0 8px 12px rgba(0,0,0,0.6);
    }

    .open-btn{
      padding: 16px 40px;
      font-size: clamp(1.1rem, 4.6vw, 1.6rem);
      background:#fff;
      color:#ff4d94;
      border:none;
      border-radius:50px;
      cursor:pointer;
      box-shadow:0 12px 40px rgba(255,77,148,0.4);
      font-family:'Dancing Script', cursive;
    }

    /* ---------------- Reveal sequence modal (one-by-one) ---------------- */
    #reveal{
      display:none;
      position:fixed; inset:0;
      z-index:300;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      color:#fff;
    }

    .reveal-bg{
      position:absolute; inset:0;
      background: radial-gradient(1200px 700px at 20% 20%, rgba(255,255,255,0.18), transparent 55%),
                  radial-gradient(1000px 600px at 80% 10%, rgba(255,255,255,0.12), transparent 60%),
                  linear-gradient(135deg, #ff6fb4, #ffd1ea);
      transform: scale(1.02);
    }

    .sparkles{
      position:absolute; inset:-20%;
      background:
        radial-gradient(circle at 10% 20%, rgba(255,255,255,0.35), transparent 18%),
        radial-gradient(circle at 70% 10%, rgba(255,255,255,0.22), transparent 18%),
        radial-gradient(circle at 35% 65%, rgba(255,255,255,0.18), transparent 16%),
        radial-gradient(circle at 85% 72%, rgba(255,255,255,0.20), transparent 16%),
        radial-gradient(circle at 52% 40%, rgba(255,255,255,0.16), transparent 16%);
      filter: blur(0.2px);
      opacity: .9;
      animation: floatSpark 7s ease-in-out infinite alternate;
      pointer-events:none;
    }
    @keyframes floatSpark{
      from{ transform: translate3d(-1.5%, -1%, 0) scale(1); opacity:.75; }
      to{ transform: translate3d(1.5%, 1%, 0) scale(1.02); opacity:1; }
    }

    .reveal-card{
      position:relative;
      width: min(640px, 94vw);
      max-height: 92vh;
      border-radius: 26px;
      background: rgba(255,255,255,0.12);
      border: 1px solid rgba(255,255,255,0.18);
      box-shadow: 0 24px 90px rgba(0,0,0,0.35);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      padding: 14px;
      display:flex;
      flex-direction:column;
      gap: 10px;
      transform: translateY(10px);
      animation: popIn .35s ease-out forwards;
    }
    @keyframes popIn{ to{ transform: translateY(0); } }

    .reveal-top{
      display:flex; align-items:center; justify-content:space-between;
      gap: 10px;
      padding: 6px 6px 0;
    }
    .reveal-title{
      font-family:'Dancing Script', cursive;
      font-size: clamp(1.6rem, 6vw, 2.3rem);
      margin:0;
      text-shadow: 0 10px 24px rgba(0,0,0,0.25);
    }
    .reveal-counter{
      font-weight: 800;
      font-size: 12px;
      background: rgba(0,0,0,0.35);
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.16);
    }

    .reveal-photo{
      width:100%;
      border-radius: 22px;
      background: rgba(0,0,0,0.35);
      border: 1px solid rgba(255,255,255,0.14);
      overflow:hidden;
      display:grid;
      place-items:center;
    }
    .reveal-photo img{
      width:100%;
      height: auto;
      max-height: 62vh;
      object-fit: contain;
      display:block;
      transform: scale(1.01);
      animation: revealZoom 4.5s ease-in-out infinite alternate;
    }
    @keyframes revealZoom{ from{ transform: scale(1.00); } to{ transform: scale(1.03); } }

    .reveal-caption{
      text-align:center;
      font-family:'Dancing Script', cursive;
      font-size: clamp(1.2rem, 5vw, 1.8rem);
      padding: 4px 10px 0;
      opacity: .98;
      text-shadow: 0 10px 22px rgba(0,0,0,0.25);
    }

    .reveal-actions{
      display:flex;
      justify-content:space-between;
      gap: 10px;
      padding: 6px 6px 2px;
      align-items:center;
    }

    .rbtn{
      border:0;
      border-radius: 999px;
      padding: 12px 14px;
      font-weight: 800;
      cursor:pointer;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      transition: transform .12s ease, opacity .2s ease;
    }
    .rbtn:active{ transform: scale(0.98); }

    .rbtn-ghost{
      background: rgba(255,255,255,0.16);
      color:#fff;
      border: 1px solid rgba(255,255,255,0.18);
    }
    .rbtn-main{
      background: rgba(255,255,255,0.92);
      color:#111;
      box-shadow: 0 14px 30px rgba(0,0,0,0.25);
    }

    .reveal-small{
      font-size: 12px;
      opacity: 0.85;
      text-align:center;
      padding-bottom: 6px;
    }

    /* ---------------- Question overlay ---------------- */
    #questionOverlay{
      display:none;
      position:absolute;
      inset:0;
      z-index: 350;
      align-items:center;
      justify-content:center;
      padding: 18px;
    }
    .qcard{
      width: min(640px, 94vw);
      border-radius: 26px;
      background: rgba(255,255,255,0.14);
      border: 1px solid rgba(255,255,255,0.18);
      box-shadow: 0 24px 90px rgba(0,0,0,0.35);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      padding: 18px 14px 16px;
      text-align:center;
      position:relative;
      overflow:hidden;
    }
    .qtitle{
      font-family:'Dancing Script', cursive;
      font-size: clamp(2.2rem, 8vw, 3.1rem);
      margin: 2px 0 8px;
      text-shadow: 0 10px 24px rgba(0,0,0,0.25);
    }
    .qsub{
      font-size: 14px;
      opacity: .88;
      margin: 0 0 14px;
    }
    .qactions{
      position:relative;
      height: 150px;
      margin-top: 10px;
    }

    #yesBtn{
      position:absolute;
      left: 50%;
      transform: translateX(-50%);
      bottom: 10px;
      padding: 14px 18px;
      min-width: 160px;
      font-size: 18px;
    }

    #noBtn{
      position:absolute;
      left: 50%;
      top: 10px;
      transform: translateX(-50%);
      padding: 12px 16px;
      min-width: 140px;
      font-size: 16px;
      opacity: 0.95;
      will-change: transform, left, top, opacity;
    }

    /* annoying shake */
    #noBtn.shake{
      animation: shake 0.18s linear infinite;
    }
    @keyframes shake{
      0%{ transform: translateX(0) translateY(0) rotate(0deg) scale(var(--s,1)); }
      25%{ transform: translateX(2px) translateY(-1px) rotate(1deg) scale(var(--s,1)); }
      50%{ transform: translateX(-2px) translateY(1px) rotate(-1deg) scale(var(--s,1)); }
      75%{ transform: translateX(2px) translateY(1px) rotate(1deg) scale(var(--s,1)); }
      100%{ transform: translateX(0) translateY(0) rotate(0deg) scale(var(--s,1)); }
    }

    .loveMore{
      display:none;
      margin-top: 12px;
      font-family:'Dancing Script', cursive;
      font-size: clamp(2.2rem, 8vw, 3.2rem);
      text-shadow: 0 14px 34px rgba(0,0,0,0.35);
      animation: popLove .35s ease-out forwards;
    }
    @keyframes popLove{
      from { transform: translateY(6px) scale(.98); opacity: 0; }
      to   { transform: translateY(0) scale(1); opacity: 1; }
    }
  </style>
</head>

<body>

  <!-- Entrance -->
  <div id="entrance">
    <div class="hearts-bg" id="hearts-bg"></div>

    <h1>I LOVE YOU</h1>
    <p>This garden blooms only for you, my forever love üå∏üíï</p>

    <div class="door-container" id="door-container" aria-label="Door">
      <div class="door" id="door">
        <div class="door-panel">
          <div class="knob"></div>
        </div>
      </div>
    </div>

    <button class="open-btn" id="openBtn">Open the Door ‚Üí</button>
  </div>

  <!-- Reveal sequence -->
  <div id="reveal">
    <div class="reveal-bg" id="revealBg"></div>
    <div class="sparkles"></div>

    <div class="reveal-card" role="dialog" aria-modal="true" aria-label="Photo reveal">
      <div class="reveal-top">
        <h2 class="reveal-title" id="revealTitle">For you üíñ</h2>
        <div class="reveal-counter" id="revealCounter">1 / 10</div>
      </div>

      <div class="reveal-photo">
        <img id="revealImg" alt="Revealed flower photo">
      </div>

      <div class="reveal-caption" id="revealCaption">A little flower just for you</div>

      <div class="reveal-actions">
        <button class="rbtn rbtn-ghost" id="revealPrev">‚Üê Prev</button>
        <button class="rbtn rbtn-main" id="revealNext">Next ‚Üí</button>
      </div>

      <div class="reveal-small" id="revealHint">Tap Next to unwrap them one by one ‚ú®</div>
    </div>

    <!-- Question overlay (shows after #10) -->
    <div id="questionOverlay">
      <div class="qcard">
        <div class="qtitle">Do you love me? üíñ</div>
        <div class="qsub">Be honest üòå</div>

        <div class="qactions" id="qArea">
          <button class="rbtn rbtn-main" id="yesBtn">Yes üíï</button>
          <button class="rbtn rbtn-ghost shake" id="noBtn">No üôÉ</button>
        </div>

        <div class="loveMore" id="loveMoreMsg">I love you more üíò</div>
      </div>
    </div>
  </div>

<script>
  // ---------------- Hearts background ----------------
  function createHeart() {
    const heart = document.createElement('div');
    heart.className = 'heart';
    heart.textContent = ['‚ù§Ô∏è','üå∏','üíï','üå∑','üíñ'][Math.floor(Math.random()*5)];
    heart.style.left = Math.random()*100 + 'vw';
    heart.style.animationDuration = (Math.random()*4 + 5) + 's';
    heart.style.fontSize = (Math.random()*22 + 26) + 'px';
    document.getElementById('hearts-bg').appendChild(heart);
    setTimeout(() => heart.remove(), 12000);
  }
  setInterval(createHeart, 280);

  // ---------------- Door -> Reveal ----------------
  const doorEl = document.getElementById('door');
  const openBtn = document.getElementById('openBtn');
  document.getElementById('door-container').addEventListener('click', openTheGarden);
  openBtn.addEventListener('click', openTheGarden);

  function openTheGarden() {
    doorEl.classList.add('open');

    setTimeout(() => {
      const entrance = document.getElementById('entrance');
      entrance.style.opacity = '0';

      setTimeout(() => {
        entrance.style.display = 'none';
        startRevealSequence();
      }, 1200);

    }, 1100);
  }

  // ---------------- Reveal sequence logic ----------------
  const reveal = document.getElementById('reveal');
  const revealImg = document.getElementById('revealImg');
  const revealCaption = document.getElementById('revealCaption');
  const revealCounter = document.getElementById('revealCounter');
  const revealBg = document.getElementById('revealBg');
  const revealNext = document.getElementById('revealNext');
  const revealPrev = document.getElementById('revealPrev');
  const revealHint = document.getElementById('revealHint');

  const questionOverlay = document.getElementById('questionOverlay');
  const yesBtn = document.getElementById('yesBtn');
  const noBtn = document.getElementById('noBtn');
  const loveMoreMsg = document.getElementById('loveMoreMsg');
  const qArea = document.getElementById('qArea');

  // Themes: only 3, 8, 9 changed; all others untouched.
  // Index is 0-based. So:
  // 3rd photo -> index 2 (pink vibes)
  // 8th photo -> index 7 (rose red vibes)
  // 9th photo -> index 8 (sunflower yellow vibes)
  const REVEAL_THEMES = [
    { bg: 'linear-gradient(135deg,#ff6fb4,#ffd1ea)', sparkle: 0.9 },   // 1 untouched
    { bg: 'linear-gradient(135deg,#ff8fb1,#fff0b3)', sparkle: 0.85 },  // 2 untouched

    // 3: pink vibes (CHANGED)
    { bg: 'linear-gradient(135deg,#ff4fa3,#ffb6dc,#ffd1ea)', sparkle: 0.92 },

    { bg: 'linear-gradient(135deg,#cbb4ff,#ffe0f3)', sparkle: 0.88 },  // 4 untouched
    { bg: 'linear-gradient(135deg,#ffd6a5,#ffb4d9)', sparkle: 0.85 },  // 5 untouched
    { bg: 'linear-gradient(135deg,#a0ffce,#b4d9ff)', sparkle: 0.78 },  // 6 untouched
    { bg: 'linear-gradient(135deg,#ffb4b4,#ffe6ff)', sparkle: 0.9 },   // 7 untouched

    // 8: rose red vibes (CHANGED)
    { bg: 'linear-gradient(135deg,#7a0019,#c2002f,#ff3d7a,#ffb3d9)', sparkle: 0.90 },

    // 9: sunflower yellow vibe (CHANGED)
    { bg: 'linear-gradient(135deg,#fff3a0,#ffd000,#ff9a00)', sparkle: 0.84 },

    { bg: 'linear-gradient(135deg,#ff9ed2,#b4fff2)', sparkle: 0.86 },  // 10 untouched
  ];

  const revealPhotos = [
    { src: 'photos/photo1.jpg',  caption: 'This one is for your smile üíê' },
    { src: 'photos/photo2.jpg',  caption: 'A soft bloom, just like you üåπ' },
    { src: 'photos/photo3.jpg',  caption: 'A little sunshine for you ‚òÄÔ∏è' },
    { src: 'photos/photo4.webp', caption: 'Elegant and calm ‚Äî you üå∑' },
    { src: 'photos/photo5.webp', caption: 'Love wrapped in petals üíñ' },
    { src: 'photos/photo6.jpg',  caption: 'You deserve pretty things üå∏' },
    { src: 'photos/photo7.webp', caption: 'A bright burst for you üå∫' },
    { src: 'photos/photo8.jpg',  caption: 'Because you‚Äôre my favorite üíï' },
    { src: 'photos/photo9.jpg',  caption: 'Warm, happy, and beautiful üåª' },
    { src: 'photos/photo10.jpg', caption: 'And this is me saying: I love you ‚ù§Ô∏è' },
  ];

  // Preload
  const revealPreloaded = [];
  revealPhotos.forEach((p, i) => {
    const img = new Image();
    img.src = p.src;
    revealPreloaded[i] = img;
  });

  let revealIndex = 0;

  function applyRevealTheme(i){
    const theme = REVEAL_THEMES[i] || REVEAL_THEMES[0];
    revealBg.style.background = `
      radial-gradient(1200px 700px at 20% 20%, rgba(255,255,255,0.18), transparent 55%),
      radial-gradient(1000px 600px at 80% 10%, rgba(255,255,255,0.12), transparent 60%),
      ${theme.bg}
    `;
    document.querySelector('.sparkles').style.opacity = theme.sparkle;
  }

  function showReveal(i){
    const n = revealPhotos.length;
    revealIndex = ((i % n) + n) % n;

    const item = revealPhotos[revealIndex];
    revealCounter.textContent = `${revealIndex + 1} / ${n}`;
    revealCaption.textContent = item.caption;
    applyRevealTheme(revealIndex);

    const pre = revealPreloaded[revealIndex];
    revealImg.src = (pre && pre.complete) ? pre.src : item.src;

    revealPrev.style.visibility = (revealIndex === 0) ? 'hidden' : 'visible';

    revealNext.textContent = 'Next ‚Üí';
    revealHint.textContent = (revealIndex === n - 1)
      ? 'One more thing‚Ä¶ üíñ'
      : 'Tap Next to unwrap them one by one ‚ú®';
  }

  function startRevealSequence(){
    reveal.style.display = 'flex';

    // reset question state
    questionOverlay.style.display = 'none';
    loveMoreMsg.style.display = 'none';
    noBtn.style.display = 'inline-block';
    noBtn.style.opacity = '0.95';
    noBtn.classList.add('shake');
    noBtn.textContent = 'No üôÉ';
    noState = { tries: 0, scale: 1, alpha: 0.95 };

    showReveal(0);
  }

  // After 10th photo: show question
  revealNext.addEventListener('click', () => {
    const n = revealPhotos.length;
    if (revealIndex === n - 1) {
      openQuestion();
      return;
    }
    showReveal(revealIndex + 1);
  });

  revealPrev.addEventListener('click', () => showReveal(revealIndex - 1));

  document.addEventListener('keydown', (e) => {
    if (reveal.style.display !== 'flex') return;
    if (questionOverlay.style.display === 'flex') return;
    if (e.key === 'ArrowRight') revealNext.click();
    if (e.key === 'ArrowLeft') revealPrev.click();
  });

  // ---------------- Question behavior ----------------
  let noState = { tries: 0, scale: 1, alpha: 0.95 };
  const NO_TEXTS = ['No üôÉ','Nope','Try again üòÖ','Missed üòè','Nah','Not today','Almost üòÇ','You wish'];

  function openQuestion(){
    questionOverlay.style.display = 'flex';
    loveMoreMsg.style.display = 'none';

    // initial placement
    setNoPosition(0.55, 0.12);
    noBtn.style.setProperty('--s', '1');
  }

  function setNoPosition(rx, ry){
    const rect = qArea.getBoundingClientRect();
    const x = rect.width * rx;
    const y = rect.height * ry;

    const pad = 10;
    const bw = noBtn.offsetWidth || 140;
    const bh = noBtn.offsetHeight || 44;

    const left = Math.max(pad, Math.min(x, rect.width - bw - pad));
    const top  = Math.max(pad, Math.min(y, rect.height - bh - pad));

    noBtn.style.left = left + 'px';
    noBtn.style.top = top + 'px';
    noBtn.style.opacity = String(noState.alpha);
    noBtn.style.setProperty('--s', String(noState.scale));
  }

  function dodgeNo(extraAnnoying=false){
    noState.tries += 1;

    // more annoying: shrink/fade faster + random text
    noState.scale = Math.max(0.12, 1 - noState.tries * 0.18);
    noState.alpha = Math.max(0.0, 0.95 - noState.tries * 0.16);

    noBtn.textContent = NO_TEXTS[Math.floor(Math.random() * NO_TEXTS.length)];
    noBtn.classList.add('shake');

    // stronger jump if it's the "near touch" dodge
    const rx = (extraAnnoying ? 0.05 : 0.12) + Math.random() * (extraAnnoying ? 0.90 : 0.76);
    const ry = (extraAnnoying ? 0.02 : 0.06) + Math.random() * (extraAnnoying ? 0.70 : 0.52);
    setNoPosition(rx, ry);

    // after enough tries, it basically disappears (under yes)
    if (noState.tries >= 6 || noState.alpha <= 0.08) {
      noBtn.style.opacity = '0';
      noBtn.style.setProperty('--s', '0.10');
      setTimeout(() => { noBtn.style.display = 'none'; }, 220);
    }
  }

  // 1) It dodges on touch/click (you can‚Äôt tap it)
  noBtn.addEventListener('pointerdown', (e) => { e.preventDefault(); dodgeNo(true); });

  // 2) It dodges when your finger gets CLOSE (super annoying)
  qArea.addEventListener('pointermove', (e) => {
    if (questionOverlay.style.display !== 'flex') return;
    if (noBtn.style.display === 'none') return;

    const nb = noBtn.getBoundingClientRect();
    const mx = e.clientX, my = e.clientY;

    // distance from pointer to button center
    const cx = nb.left + nb.width/2;
    const cy = nb.top + nb.height/2;
    const dist = Math.hypot(mx - cx, my - cy);

    // If finger gets within a radius, dodge
    const radius = 95 + (1 - noState.scale) * 60;
    if (dist < radius) {
      dodgeNo(true);
    }
  });

  // 3) Also dodge on mouseenter (desktop)
  noBtn.addEventListener('mouseenter', () => dodgeNo(true));

  yesBtn.addEventListener('click', () => {
    loveMoreMsg.style.display = 'block';

    // after a short moment, go back to photo 1 (loop)
    setTimeout(() => {
      questionOverlay.style.display = 'none';
      showReveal(0);
    }, 1300);
  });

</script>
</body>
</html>